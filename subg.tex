\documentclass[mathserif]{beamer}

\usepackage{subg}
\usepackage{pdfpages}

\title[Discrete Sampling using Semigradient-based Product Mixtures]
{Discrete Sampling using Semigradient-based Product Mixtures}

\author[Alkis Gotovos]{}

\begin{document}

\setbeamertemplate{background canvas}{}
\includepdf[pages={1}]{title/title.pdf}
\setbeamertemplate{background canvas}{\includegraphics[width=\paperwidth]{figures/bg_no_line.png}}

\begin{frame}{Modeling gene alterations}
\includegraphics[width=3.7in]{figures/oncogene.png}\\
\qsource{\texttt{cancergenome.nih.gov}}
\end{frame}

\begin{frame}{Modeling gene alterations}
\centering
\includegraphics[width=\textwidth]{figures/grid_genes.pdf}
\end{frame}

\begin{frame}{Modeling gene alterations}
\includegraphics[width=\textwidth]{figures/grid_genes_muex.pdf}
\end{frame}

\begin{frame}{Modeling gene alterations}
\centering
\includegraphics[width=\textwidth]{figures/grid_genes.pdf}
\end{frame}

\begin{frame}{Modeling gene alterations}
\includegraphics[width=\textwidth]{figures/grid_genes_cooc.pdf}
\end{frame}

\begin{frame}{Modeling teams}
\includegraphics[width=\textwidth]{figures/champions_transparent.png}\\
\qsource{\texttt{euw.leagueoflegends.com}}
\end{frame}

\begin{frame}{Modeling teams}
\centering
\includegraphics[height=3in]{figures/champions5v5.pdf}
\end{frame}

\begin{frame}{Modeling teams}
\centering
\includegraphics[width=\textwidth]{figures/grid_hots.pdf}
\end{frame}

\begin{frame}{Discrete probabilistic models}
\vspace{0.7em}
\begin{columns}[t]
\begin{column}{0.5\textwidth}
\centering
Ground set\\[0.2em]
$V = \{1,\ldots,n\}$

\vspace{1em}
\includegraphics[width=1.5in]{figures/champions_transparent.png}
\end{column}
\begin{column}{0.5\textwidth}
\centering
Data\\[0.2em]
$\mathcal D = \{S_i\}_{i=0}^m$, $S_i \subseteq V$

\vspace{0.5em}
\includegraphics[width=1.4in]{figures/grid_hots.pdf}
\end{column}
\end{columns}

\vspace{0.6em}

\begin{center}
Model {\color{col1}higher-order} interactions\\[0.3em]

\qboxa{
$p(S; \theta) = \displaystyle\frac{1}{Z(\theta)}\exp \big( F(S; \theta) \big)$
}

\vspace{0.6em}

\begin{minipage}{0.49\textwidth}
\footnotesize
\begin{itemize}
\item $F(S) = \textrm{graph-cut}(S)\ \rightarrow\ $ Ising model
\item $F(S) = \log \left|K_S\right|\ \rightarrow\ $ DPP
\end{itemize}
\end{minipage}

\end{center}

\end{frame}

\begin{frame}{Discrete probabilistic models}
\begin{columns}
\begin{column}{0.3\textwidth}
\centering
\includegraphics[width=2in,angle=90,origin=c]{figures/model_higher.pdf}
\end{column}
\begin{column}{0.7\textwidth}
\begin{tikzpicture}[
box/.style={minimum height=4em}
]
  \node[box,text=textcolor] (1) at (0,0) {Learn $\theta$};
  \uncover<2->{
  \node[box,text=textcolor,anchor=west] (12) at (0.3,-1.5) {Max. likelihood};
  }
  \only<3,4>{
  \node[box,text=textcolor] (2) at (0,-3) {Compute $\nabla_{\theta}Z(\theta)$};
  }
  \only<3->{
  \draw [-latex, color=textcolor, line width=0.5] (2) to (1);
  }
  \uncover<4->{
  \node[box,text=textcolor,anchor=west] (23) at (0.3,-4.5) {\#P-hard in general};
  }
  \uncover<5->{
  \node[box, text=textcolor] (2) at (0,-3) {{\color{col1}Approximate} \color{textcolor}$\nabla_{\theta}Z(\theta)$};
  \only<1-5>{
  \node[box, text=textcolor] (3) at (0,-6) {Sample from $p(\cdot\,; \theta)$};
  \draw [-latex, color=textcolor, line width=0.5] (3) to (2);
  }
  \only<6->{
  \node[box, text=textcolor] (3) at (0,-6) {\qboxa{Sample from $p(\cdot\,; \theta)$}};
  \draw [-latex, color=textcolor, line width=0.5] (3) to (2);
  }
  }
\end{tikzpicture}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{The Gibbs sampler}
\centering
\only<1>{\includegraphics[width=2.5in]{figures/lattice_full.pdf}}%
\only<2>{\includegraphics[width=2.5in]{figures/lattice_gibbs_1.pdf}}%
\only<3>{\includegraphics[width=2.5in]{figures/lattice_gibbs_2.pdf}}
\end{frame}

\begin{frame}{When Gibbs fails}
\centering
\only<1>{\includegraphics[width=\textwidth]{figures/bottleneck0.pdf}}%
\only<2>{\includegraphics[width=\textwidth]{figures/bottleneck1.pdf}}%
\only<3>{\includegraphics[width=\textwidth]{figures/bottleneck2.pdf}}
\end{frame}

\begin{frame}{The $\mathrm{M}^3$ chain}
\only<1>{
\centering
$\mathrm{M}^3$ = Mixture of Log-Modulars Metropolis
}

\only<2->{
\renewcommand{\arraystretch}{1}
\begin{tabular}{>{\arraybackslash}p{0.28\textwidth}>{\arraybackslash}p{0.71\textwidth}}

\begin{minipage}[t]{\textwidth}
\vspace{1.8em}
\only<7-8>{\color{col1}} \circled{1}\hspace{0.3em} Mixture
\end{minipage}
&
\begin{minipage}[t]{\textwidth}
\uncover<8->{%
\vspace{1em}
$q(S, T) = q(T) = \displaystyle\frac{1}{Z_q} \sum_{i = 1}^{r} w_i\exp\left(m_i(T) \right)$
\vspace{1em}%
}
\end{minipage}\\ \midrule

\begin{minipage}[t]{\textwidth}
\vspace{1.15em}
\only<10-11>{\color{col1}} \circled{2}\hspace{0.3em} Log-Modulars
\end{minipage}
&
\begin{minipage}[t]{\textwidth}
\uncover<11->{
\vspace{1em}
$m_i(T) = \displaystyle\sum_{v \in T} m_{iv}$
\vspace{1em}
}
\end{minipage}\\ \midrule

\begin{minipage}[t]{\textwidth}
\vspace{2.45em}
\only<3-6>{\color{col1}} \circled{3}\hspace{0.3em} Metropolis
\end{minipage}
&
\begin{minipage}[t]{\textwidth}
\vspace{1em}
\begin{itemize}
\item<4-> Target $\ p(S) \propto \exp(F(S))$
\vspace{0.15em}
\item<5-> Proposal $\ q(S, T)$
\item<6-> Accept with probability%
\only<6-8>{$\ \min\left\{1, \frac{p(T)q(T, S)}{p(S)q(S, T)}\right\}$}%
\only<9>{$\ \min\left\{1, \frac{p(T)\color{col1}q(S)}{p(S)\color{col1}q(T)}\right\}$}%
\only<10->{$\ \min\left\{1, \frac{p(T)q(S)}{p(S)q(T)}\right\}$}
\end{itemize}
\vspace{1em}
\end{minipage}

\end{tabular}
}
\end{frame}

\begin{frame}{Experiments}
\vspace{1em}
\centering
\only<1>{\includegraphics[width=\textwidth,trim=0 0 0 0,clip]{figures/exp1.pdf}}%
\only<2>{\includegraphics[width=\textwidth,trim=0 0 0 0,clip]{figures/exp1_line.pdf}}%
\only<3>{\includegraphics[width=\textwidth,trim=0 0 0 0,clip]{figures/exp1_line_dots.pdf}}%
%\only<4>{\includegraphics[width=\textwidth,trim=0 0 0 0,clip]{figures/exp1_time_line_dots.pdf}}%
\end{frame}

\begin{frame}{Experiments}
\vspace{1em}
\centering
\includegraphics[width=\textwidth,trim=0 0 0 0,clip]{figures/exp2.pdf}
\end{frame}

\begin{frame}{Experiments}
\vspace{1em}
\centering
\includegraphics[width=\textwidth,trim=0 0 0 0,clip]{figures/exp3.pdf}
\end{frame}

\begin{frame}{Conclusion}
\vspace{1em}
\centering
\includegraphics[width=3.5in]{figures/bottleneck_conclusion.pdf}

\vspace{1em}
\begin{itemize}
  \item $\mathrm{M}^3$ sampler $\rightarrow$ propose global moves to overcome bottlenecks
  \vspace{0.5em}
  \item Semigradient construction $\rightarrow$ incorporate ideas from optimization
\end{itemize}

\vspace{1em}
\qboxa{Poster \#75}

\end{frame}

\end{document}
